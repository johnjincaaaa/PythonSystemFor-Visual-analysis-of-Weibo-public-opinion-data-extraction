# 基于Python的微博舆情数据抓取与可视化分析系统

## 项目概述
本系统是一个基于Python的微博舆情数据抓取与可视化分析平台，能够通过关键词爬取微博评论数据，并进行情感分析和多维度可视化展示，帮助用户快速把握特定话题的舆论倾向和热点信息。

## 功能特点
- **数据爬取**：支持根据关键词搜索相关微博，并获取指定数量的评论数据
- **用户管理**：提供注册、登录功能，实现用户数据隔离
- **数据搜索**：支持按关键词和时间筛选评论数据
- **情感分析**：自动识别评论情感倾向（正面/中性/负面）
- **可视化展示**：通过热词云图、柱状图、饼图等多种形式展示分析结果
- **地域分析**：展示评论用户的地域分布及对应情感倾向

## 技术栈
- **后端**：Python、Flask框架、SQLite数据库
- **前端**：HTML、CSS（Bootstrap）、JavaScript
- **数据处理**：Pandas、Jieba分词、SnowNLP情感分析、WordCloud词云
- **可视化**：Pyecharts（饼图、柱状图、折线图、地图等）
- **爬虫**：Requests、LXML

## 项目结构
```
PythonSystemFor-Visual-analysis-of-Weibo-public-opinion-data-extraction/
├── app.py                 # 主程序入口，Flask应用配置与路由
├── comments_api.py        # 评论数据爬取接口实现
├── keyword_to_search_blogurls.py  # 关键词搜索微博URL工具
├── data/
│   └── weibo_yuqing.db    # SQLite数据库文件
├── static/
│   ├── css/
│   │   └── style.css      # 自定义样式表
│   └── images/            # 可视化结果图片存储目录
├── templates/
│   ├── base.html          # 基础模板
│   ├── dashboard.html     # 系统仪表盘页面
│   ├── login.html         # 登录页面
│   └── register.html      # 注册页面
├── cookie.txt             # 微博登录Cookie
└── README.md              # 项目说明文档
```

## 核心模块说明

### 1. 数据爬取模块
- 通过`keyword_to_search_blogurls.py`实现根据关键词搜索相关微博URL
- 通过`comments_api.py`获取指定微博的评论数据，支持分页加载
- 需配置有效的微博登录Cookie（`cookie.txt`）以确保爬虫正常运行

### 2. 数据存储模块
- 使用SQLite数据库存储用户信息和评论数据
- 数据库表结构：
  - `users`：存储用户账号信息（用户名、密码、邮箱等）
  - `comment_data`：存储评论数据，包含用户ID关联字段，实现数据隔离

### 3. 数据分析模块
- **情感分析**：使用SnowNLP对评论进行情感评分，划分为正面、中性、负面
- **文本处理**：使用Jieba进行中文分词，过滤停用词，提取有意义词汇
- **统计分析**：计算热词频率、情感分布、时间趋势等指标

### 4. 可视化模块
- 热词云图：展示评论中出现频率较高的关键词
- 热词TOP10：柱状图展示最热门的10个关键词
- 情感分布：饼图展示正面、中性、负面评论的比例
- 情感时间趋势：折线图展示不同时间的情感变化
- 地域分布：地图展示评论用户的地理分布及对应情感

## 使用说明
1. 确保安装所需依赖库（可通过requirements.txt安装）
2. 配置有效的微博Cookie到`cookie.txt`
3. 运行`app.py`启动应用
4. 注册账号并登录系统
5. 在仪表盘页面输入关键词和爬取数量，点击"开始爬取"
6. 查看爬取的评论数据及生成的可视化分析结果

## 注意事项
- 爬虫功能需依赖有效的微博登录Cookie，请定期更新
- 爬取数据时请遵守相关网站的robots协议和使用规范
- 大规模爬取可能受到网站限制，建议合理设置爬取频率和数量

© 2025 微博舆情分析系统 - 版权所有
